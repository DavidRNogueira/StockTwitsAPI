{"version":3,"sources":["Components/SelectSymbols/SelectSymbolsStyles.tsx","constants.ts","Components/SelectSymbols/SelectSymbols.tsx","Components/Tweets/TweetsStyles.tsx","Components/Tweets/Tweets.tsx","App.tsx","index.tsx"],"names":["SelectSymbolsDiv","styled","div","InputDiv","SymbolInput","input","AddSymbolBtn","a","TagsHeader","h1","SymbolTagsDiv","TagDiv","SymbolName","h3","FormError","strong","TweetCounter","i","SelectSymbols","context","useContext","Context","useState","currentSymbol","setCurrentSymbol","allSymbols","setAllSymbols","compErrors","setCompErrors","tweets","setTweets","tweetCounter","setTweetCounter","interval","handleDeleteTag","deletedSymbol","newSymbols","filter","symbol","length","clearInterval","newTweets","tweet","dispatch","type","payload","newTweetCounter","counter","handleAddNewSymbol","includes","axios","get","response","status","data","messages","mentions","setInterval","forEach","arrayForSymbol","console","log","value","onChange","event","newValue","currentTarget","toUpperCase","handleInputChange","href","onClick","preventDefault","map","find","count","TweetsDiv","MessageDiv","Username","CreatedAt","Body","p","Avatar","img","NoTweets","TweetSymbol","DateDiv","UserDiv","Tweets","state","key","id","src","user","avatar_url","username","body","created_at","initState","React","createContext","reducer","action","App","useReducer","Provider","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.443e8973.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport { GLOBAL_RED, PRIMARY_GREY } from \"../../constants\";\n\nexport const SelectSymbolsDiv = styled.div `\ndisplay:flex;\nflex-direction:column;\n`\n\nexport const InputDiv = styled.div `\ndisplay:flex;\nflex-direction:row;\nalign-self:center;\njustify-content:center;\n`\n\nexport const SymbolInput = styled.input `\nfont-size:24px;\nwidth:40%;\ntext-align:center;\n`\n\nexport const AddSymbolBtn = styled.a `\ndisplay:flex;\nalign-items:center;\njustify-content:center;\ntext-decoration:none;\ncolor:white;\nbackground-color: #035aa6;\npadding: 0.25em 0.5em 0.25em 0.5em;\nmargin-left:1em;\nborder-radius:10px;\n`\n\nexport const TagsHeader = styled.h1 `\nfont-size:2em;\nmargin:0;\n`\n\nexport const SymbolTagsDiv = styled.div `\ndisplay:flex;\nflex-direction:row;\nflex-wrap:wrap;\n`\n\nexport const TagDiv = styled.a `\ncolor:black;\ntext-decoration:none;\nbackground-color:${PRIMARY_GREY};\npadding:0.5em;\nborder-radius:10px;\nmargin:1em;\n\n:hover {\n    background-color:${GLOBAL_RED};\n}\n`\n\nexport const SymbolName = styled.h3 `\nmargin:0;\nfont-size:2em;\n`\n\nexport const FormError = styled.strong `\ncolor:red;\nfont-size:1em;\ntext-align:center;\nmargin-top:0.5em;\n`\n\nexport const TweetCounter = styled.i `\nfont-size:0.75em;\ncolor:grey;\n`","export const BACKGROUND_GREY = \"#f7f7f7\"\nexport const PRIMARY_GREY = \"#dbdbdb\"\nexport const GLOBAL_RED = \"#eb4559\"","import React , {FC, useState, useContext, useEffect} from \"react\";\nimport { \n    SelectSymbolsDiv,\n    SymbolInput, \n    AddSymbolBtn, \n    SymbolTagsDiv, \n    TagDiv, \n    SymbolName, \n    TagsHeader, \n    InputDiv, \n    FormError, \n    TweetCounter\n} from \"./SelectSymbolsStyles\";\nimport axios from \"axios\"\nimport { Context } from \"../../App\";\nimport { ITweet, ITweetCounter } from \"../../interfaces\";\n\nconst SelectSymbols:FC = ():JSX.Element => {\n  const context = useContext(Context);\n  const [currentSymbol , setCurrentSymbol] = useState<string>(\"\");\n  const [allSymbols , setAllSymbols] = useState<string[]>([]);\n  const [compErrors , setCompErrors] = useState<string[]>([]);\n  const [tweets , setTweets] = useState<ITweet[]>([]);\n  const [tweetCounter , setTweetCounter] = useState<ITweetCounter[]>([]);\n  let interval: any = null;\n\n  const startInterval = () => {\n    if (allSymbols.length > 0){\n      interval = setInterval(() => {\n          allSymbols.forEach(async symbol => {\n            try {\n              const response = await axios.get(`/get-tweets-by-symbol?symbol=${symbol}`)\n                if (response.status === 200){\n                  const arrayForSymbol = tweets.filter(tweet => tweet.symbol === symbol);\n                  if ( response.data.messages === arrayForSymbol){\n                    return;\n                  } else {\n                    console.log(\"UPDATE\")\n                    const newTweets = [...response.data.messages , ...tweets ];\n                    context.dispatch({\n                      type: \"UPDATE_TWEETS\" , \n                      payload : newTweets\n                      })\n                    setTweets(newTweets);\n                  }\n  \n                }\n            }\n            catch (error){\n              console.log(\"ERROR\")\n            }\n          })\n  \n        } , 10000)  }}\n\n  const endInterval = () => {\n    if (allSymbols.length > 0){\n      return;\n    }\n    clearInterval(interval);\n    interval = null;\n  }\n    \n    const handleInputChange = (event: React.FormEvent<HTMLInputElement>) => {\n            const newValue = event.currentTarget.value.toUpperCase();\n            if (newValue.length > 5){\n                return;\n            }\n            setCurrentSymbol(newValue);\n    }\n\n    const handleDeleteTag = (deletedSymbol: string) => {\n      const newSymbols = allSymbols.filter(symbol => symbol !== deletedSymbol)\n\t\t  setAllSymbols(newSymbols);\n      if (newSymbols.length < 1) {\n        endInterval();\n      }\n\n\t\tconst newTweets = tweets.filter(tweet => tweet.symbol !== deletedSymbol);\n\t\t\tcontext.dispatch({\n\t\t\t\ttype: \"UPDATE_TWEETS\" ,\n\t\t\t\tpayload : [...newTweets]\n\t\t\t})\n        setTweets([...newTweets])\n                \n        const newTweetCounter = tweetCounter.filter(counter => counter.symbol !== deletedSymbol);\n        setTweetCounter(newTweetCounter);\n    }\n\n    const handleAddNewSymbol = async () => {\n        setCompErrors([]);\n        if (allSymbols.includes(currentSymbol)){\n            setCompErrors([...compErrors , \"repeat\"])\n            return;\n        }\n        if (currentSymbol.length > 2 && currentSymbol.length < 6){\n            try{\n\t\t\t\t\t\t\tconst response = await axios.get(`/get-tweets-by-symbol?symbol=${currentSymbol}`)\n            \tif (response.status === 200){\n\t\t\t\t\t\t\t\tconst newTweets = [...response.data.messages , ...tweets ];\n\t\t\t\t\t\t\t\tcontext.dispatch({\n\t\t\t\t\t\t\t\ttype: \"UPDATE_TWEETS\" , \n\t\t\t\t\t\t\t\tpayload : newTweets\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\tsetTweets(newTweets);\n\t\t\t\t\t\t\t\t\t\tsetTweetCounter([...tweetCounter , {symbol : currentSymbol , mentions : response.data.messages.length}])\n                    setAllSymbols([...allSymbols , currentSymbol ])\n                    startInterval();\n\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\t\t\tsetCompErrors([...compErrors , \"not200\"])\n\t\t\t\t\t\t\t}\n        }\n        setCurrentSymbol(\"\")\n    }\n\n    return (\n        <SelectSymbolsDiv>\n            <InputDiv>\n                <SymbolInput type =\"text\" value={currentSymbol} onChange={(event:React.FormEvent<HTMLInputElement>) => {handleInputChange(event)}}/>\n                <AddSymbolBtn href=\"\" onClick={(event:React.MouseEvent<HTMLAnchorElement>) => {event.preventDefault(); handleAddNewSymbol();}}>\n                    Add Symbol\n                </AddSymbolBtn>\n            </InputDiv>\n            {\n                compErrors.includes(\"repeat\") && <FormError>You already added that symbol.</FormError>\n            }\n            {\n                compErrors.includes(\"not200\") && <FormError>Ops! Something went wrong. Try again.</FormError>\n            }\n\t\t\t\t\t\t {\n                allSymbols.length > 0 && <TagsHeader>Tags You Have Selected:</TagsHeader>\n            }\n            <SymbolTagsDiv>\n                {\n                    allSymbols.length > 0 &&\n                    allSymbols.map(symbol =>{\n\t\t\t\t\t\t\t\t\t\t\tconst counter = tweetCounter.find(count => count.symbol === symbol)\n                        return(\n                            <TagDiv href=\"\" onClick={(event:React.MouseEvent<HTMLAnchorElement>) => {event.preventDefault(); handleDeleteTag(symbol);}}>\n                                <SymbolName>{symbol} <TweetCounter>{counter && counter.mentions} / 10</TweetCounter></SymbolName>\n                            </TagDiv>\n                        )\n                    })\n                }\n            </SymbolTagsDiv>\n        </SelectSymbolsDiv>\n    )\n}\n\nexport default SelectSymbols;","import styled from \"styled-components\"\n\nexport const TweetsDiv = styled.div `\nwidth:80%;\nmargin:auto;\n\ndisplay:flex;\nflex-direction:column;\nalign-items:center;\n`\n\nexport const MessageDiv = styled.div `\nwidth:70%;\nborder-radius:10px;\nmargin:0.5em;\npadding:1em;\ndisplay:flex;\nflex-direction:row;\njustify-content:space-evenly;\nalign-items:center;\n`\n\nexport const Username = styled.strong `\n\n`\n\nexport const CreatedAt = styled.i `\n\n`\n\nexport const Name = styled.strong `\n\n`\n\nexport const Body = styled.p `\nwidth:60%;\n`\n\nexport const Avatar = styled.img `\nborder-radius:30px;\nmargin:0.5em;\n`\n\nexport const NoTweets = styled.h1 `\ntext-align:center;\n`\n\nexport const TweetSymbol = styled.strong `\nalign-self:flex-end;\nbackground-color:lightgrey;\npadding:0.5em;\nborder-radius:10px;\n`\n\nexport const DateDiv = styled.div `\ndisplay:flex;\nflex-direction:column;\njustify-content:space-between;\njustify-self:flex-end;\n`\n\nexport const UserDiv = styled.div `\ndisplay:flex;\nflex-direction:column;\nalign-items:center;\nmargin-right: 1.5em;\n`","import React , {FC, useContext} from \"react\"\nimport { Context } from \"../../App\";\nimport { \n    TweetsDiv,\n    MessageDiv, \n    Avatar, \n    Username, \n    Body, \n    CreatedAt, \n    NoTweets, \n    UserDiv, \n    DateDiv, \n    TweetSymbol \n} from \"./TweetsStyles\";\nimport { ITweet } from \"../../interfaces\";\n\nconst Tweets:FC = ():JSX.Element => {\n    const context = useContext(Context)\n\n    return (\n        <TweetsDiv>\n            {\n                context.state.length < 1 &&\n                <NoTweets>No Tweets</NoTweets>\n            }\n            {\n                context.state.length > 0 &&\n                    context.state.map((tweet: ITweet) => {\n                        return (\n                            <MessageDiv key={tweet.id}>\n                                <UserDiv>\n                                    <Avatar src={tweet.user.avatar_url}/>\n                                    <Username>@{tweet.user.username}</Username>\n                                </UserDiv>\n                                <Body>{tweet.body}</Body>\n                                <DateDiv>\n                                    <CreatedAt>{tweet.created_at}</CreatedAt>\n                                    <TweetSymbol>{tweet.symbol}</TweetSymbol>\n                                </DateDiv>\n                            </MessageDiv>\n                        )\n                    })     \n            }\n        </TweetsDiv>\n    )\n}\n\nexport default Tweets;","import React , {FC , useReducer} from 'react';\nimport SelectSymbols from './Components/SelectSymbols/SelectSymbols';\nimport { ITweet, ActionInterface } from './interfaces';\nimport Tweets from './Components/Tweets/Tweets';\n\nconst initState:(string|number)[] = []\nexport const Context = React.createContext<any>(initState);\n  \nconst reducer = (state:ITweet, action:ActionInterface) => {\n  const {type, payload} = action;\n  \n  switch (type){\n      case \"UPDATE_TWEETS\":\n          return [...payload]\n      default:\n          return state;\n  }\n}\n\nconst App:FC = ():JSX.Element => {\n  const [state,dispatch] = useReducer<any>(reducer, initState)\n\n  return (\n    <Context.Provider value={{state , dispatch}}>\n      <h1 className=\"pageHeader\">StockTwits API Challenge</h1>\n      <SelectSymbols/>\n      <Tweets/>\n    </Context.Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}